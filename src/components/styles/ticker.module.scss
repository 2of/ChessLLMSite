/* Horizontal scrolling move history */

.moveHistory {
    width: 100%;
    /* Max width crucial for preventing flex blowup */
    max-width: 100%;
    background: var(--bg-secondary);
    border: 1px solid var(--border-color);
    display: flex;
    flex-direction: column;
    /* Prevent vertical expansion */
    flex-shrink: 0;
    box-shadow: var(--shadow-sm);
    border-radius: 4px;
    overflow: hidden;
    /* Ensure rounded corners clip */
}

.header {
    display: flex;
    align-items: center;
    gap: 0.5rem;
    padding: 0.5rem 1rem;
    background: var(--bg-primary);
    border-bottom: 1px solid var(--border-color);
    color: var(--text-primary);
}

.title {
    font-family: 'Playfair Display', Georgia, serif;
    font-size: 0.8rem;
    font-weight: 700;
    color: var(--text-primary);
    text-transform: uppercase;
    letter-spacing: 0.08em;
}

.moveCount {
    font-family: 'Source Serif 4', Georgia, serif;
    font-size: 0.65rem;
    font-weight: 600;
    color: var(--text-secondary);
    background: var(--bg-tertiary);
    padding: 0.15rem 0.5rem;
    border-radius: 4px;
}

.returnButton {
    margin-left: auto;
    padding: 0.25rem 0.6rem;
    background: var(--bg-tertiary);
    border: 1px solid var(--border-color);
    color: var(--text-secondary);
    font-family: 'Libre Baskerville', Georgia, serif;
    font-size: 0.65rem;
    cursor: pointer;
    transition: all 0.2s ease;
    text-transform: uppercase;
    letter-spacing: 0.05em;
    border-radius: 4px;
}

.returnButton:hover {
    background: var(--text-primary);
    color: var(--text-inverse);
    border-color: var(--text-primary);
}

/* Scrollable List Wrapper */
.moveListWrapper {
    flex: 1;
    overflow-x: auto;
    overflow-y: hidden;
    padding: 0.75rem 1rem;
    background: var(--bg-secondary);

    /* Custom Scrollbar stylings */
    scrollbar-width: thin;
    scrollbar-color: var(--border-color) transparent;
}

.moveListWrapper::-webkit-scrollbar {
    height: 6px;
}

.moveListWrapper::-webkit-scrollbar-track {
    background: transparent;
}

.moveListWrapper::-webkit-scrollbar-thumb {
    background-color: var(--border-color);
    border-radius: 3px;
}

.emptyState {
    color: var(--color-ink-light);
    font-family: 'Libre Baskerville', Georgia, serif;
    font-size: 0.8rem;
    font-style: italic;
    padding: 0.25rem 0.5rem;
    margin: 0;
    white-space: nowrap;
}

.moveList {
    display: flex;
    gap: 0.75rem;
    flex-wrap: nowrap;
    /* Force single line */
    align-items: center;
    min-width: min-content;
    /* Ensure children don't squish */
}

.moveItem {
    display: flex;
    align-items: center;
    font-size: 0.9rem;
    font-family: 'Source Serif 4', Georgia, serif;
    flex-shrink: 0;
    transition: all 0.2s ease;
    cursor: pointer;
    padding: 0.3rem 0.5rem;
    border-radius: 4px;
    border: 1px solid transparent;
    /* Reserve space for border */
}

.moveItem:hover {
    background: rgba(0, 0, 0, 0.08);
    transform: translateY(-1px);
}

.moveNumber {
    font-size: 0.7rem;
    font-weight: 500;
    color: var(--color-ink-medium);
    font-family: 'Source Serif 4', Georgia, serif;
}

.whiteMove {
    border-color: rgba(0, 0, 0, 0.1);
    background: var(--color-paper-white);
}

.blackMove {
    border-color: rgba(0, 0, 0, 0.1);
    background: var(--color-paper-cream);
}

/* Currently viewing this move */
.viewingMove {
    background: var(--color-ink-black) !important;
    color: var(--color-paper-white);
    border-color: var(--color-ink-black) !important;
    box-shadow: 0 2px 4px rgba(0, 0, 0, 0.2);
}

.viewingMove .moveNumber,
.viewingMove .moveText {
    color: var(--color-paper-white);
}

/* Moves after the one being viewed */
.futureMove {
    opacity: 0.4;
    filter: grayscale(1);
}

.moveText {
    color: var(--color-ink-black);
    font-weight: 600;
}

/* Responsive */
@media (max-width: 600px) {
    .moveItem {
        padding: 0.3rem 0.5rem;
        font-size: 0.75rem;
    }
}